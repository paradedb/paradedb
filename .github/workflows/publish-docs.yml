# workflows/publish-docs.yml
#
# Publish ParadeDB Docs
# Build and publish the documentation stored in /docs to our Mintlify documentation
# site. This workflow is triggered on creation of a GitHub Tag, but beta releases get
# filtered out by the `if` condition of the job.

name: Publish ParadeDB Docs

on:
  push:
    tags:
      - "v*"
    branches:
      - phil/publish-docs-manually # TODO: Remove once done testing
  workflow_dispatch:

jobs:
  publish-docs:
    name: Publish ParadeDB Documentation
    runs-on: ubuntu-latest
    if: ${{ !contains(github.ref, '-rc') }}

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      # - name: Install Mintlify CLI
      #   run: npm install -g mint

      # - name: Publish Docs
      #   run: mint deploy --path docs/
      #   env:
      #     MINTLIFY_API_KEY: ${{ secrets.MINTLIFY_API_KEY }}
