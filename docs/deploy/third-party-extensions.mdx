---
title: Installing Third Party Extensions
description: How to install additional extensions into ParadeDB
canonical: https://docs.paradedb.com/deploy/third-party-extensions
---

<Note>
  [Foreign data
  wrapper](https://www.postgresql.org/docs/current/ddl-foreign-data.html)
  extensions can be used to query AWS S3 and other external data stores directly
  from ParadeDB.
</Note>

Postgres has a rich ecosystem of extensions. ParadeDB is designed to work alongside other PostgreSQL extensions for a complete data platform.

## Pre-installed Extensions

To keep the ParadeDB Docker image size manageable, the following extensions are pre-installed:

- **`pg_search`** — Full-text and hybrid search with BM25
- **`pgvector`** — Vector similarity search
- **`postgis`** — Geospatial queries and indexing
- **`pg_ivm`** — Incremental materialized views
- **`pg_cron`** — Scheduled jobs and background tasks

<Note>
  `pg_cron` is configured on the default `postgres` database and cannot be
  changed.
</Note>

## Compatible Extensions

ParadeDB has been tested with and supports the following popular extensions:

- **[Citus](https://github.com/citusdata/citus)** — Distributed PostgreSQL for horizontal scaling (see [detailed guide](#distributed-search-with-citus) below)
- **`pg_partman`** — Automated partition management
- **`pg_stat_statements`** — Query performance monitoring
- **`postgres_fdw`** — Foreign data wrappers for federated queries

<Note>
  If you encounter any issues with extension compatibility, please [open an
  issue](https://github.com/paradedb/paradedb/issues) or reach out to our
  [community](https://join.slack.com/t/paradedbcommunity/shared_invite/zt-2lkzdsetw-OiIgbyFeiibd1DG~6wFgTQ).
</Note>

Additional Postgres extensions can be installed inside existing ParadeDB Docker and Kubernetes deployments following the instructions below.

## Installing Third Party Extensions

The process for installing an extension varies by extension. Generally speaking, it requires:

- Download the prebuilt binaries inside ParadeDB
- Install the extension binary and any dependencies inside ParadeDB
- Add the extension to `shared_preload_libraries` in `postgresql.conf`, if required by the extension
- Run `CREATE EXTENSION <extension name>`

We recommend installing third party extensions from prebuilt binaries to keep the image size small. As an
example, let's install [pg_partman](https://github.com/pgpartman/pg_partman), an extension for managing table partition sets.

### Install Prebuilt Binaries

First, enter a shell with root permissions in the ParadeDB image.

```bash
docker exec -it --user root paradedb bash
```

<Note>
  This command assumes that your ParadeDB container name is `paradedb`.
</Note>

Next, install the [prebuilt binaries](https://pkgs.org/search/?q=partman).
Most popular Postgres extensions can be installed with `apt-get install`.

```bash
apt-get update
apt-get install -y --no-install-recommends postgresql-17-partman
```

<Note>
  If the extension is not available with `apt-get install`, you can usually
  `curl` the prebuilt binary from a GitHub Release page. You will need to first
  install `curl` via `apt-get install` if you are taking this approach.
</Note>

### Add to `shared_preload_libraries`

<Accordion title="Modifying shared_preload_libraries">

If you are installing an extension which requires this step, you can do so
via the following command, replacing `<extension_name>` with your extension's name:

```bash
sed -i "/^shared_preload_libraries/s/'\([^']*\)'/'\1,<extension_name>'/" /var/lib/postgresql/data/postgresql.conf
```

For `pg_partman`, the command is:

```bash
sed -i "/^shared_preload_libraries/s/'\([^']*\)'/'\1,pg_partman_bgw'/" /var/lib/postgresql/data/postgresql.conf
```

</Accordion>

Postgres must be restarted afterwards. We recommend simply restarting the Docker container.

### Create the Extension

Connect to ParadeDB via `psql` and create the extension.

```sql
CREATE EXTENSION pg_partman;
```

`pg_partman` is now ready to use!

Note that this is a simple example of installing `pg_partman`. The full list of settings and optional dependencies can be found in the [official installation instructions](https://github.com/pgpartman/pg_partman?tab=readme-ov-file#installation).

## Distributed Search with Citus

[Citus](https://github.com/citusdata/citus) transforms PostgreSQL into a distributed database with horizontal sharding. ParadeDB is fully compatible with Citus, enabling distributed full-text search across sharded tables.

### What's Supported

- **BM25 indexes on distributed tables** — Create search indexes after distributing tables with `create_distributed_table()`
- **Distributed queries with search operators** — Use the `@@@` search operator in queries across sharded tables
- **Subqueries with LIMIT** — Complex queries with subqueries and LIMIT clauses work correctly
- **JOIN queries** — Search with JOINs across distributed tables

### Installation

Both `citus` and `pg_search` must be added to `shared_preload_libraries` in the correct order:

```bash
# Install Citus first
curl https://install.citusdata.com/community/deb.sh | sudo bash
apt-get install -y postgresql-17-citus-13.0

# Add both extensions to shared_preload_libraries
sed -i "s/^shared_preload_libraries = .*/shared_preload_libraries = 'citus,pg_search'/" /var/lib/postgresql/data/postgresql.conf

# Restart PostgreSQL
# Then create extensions in your database
```

```sql
CREATE EXTENSION citus;
CREATE EXTENSION pg_search;

-- Distribute a table
CREATE TABLE articles (
    id SERIAL,
    author_id INT NOT NULL,
    title TEXT,
    body TEXT,
    PRIMARY KEY (author_id, id)
);

SELECT create_distributed_table('articles', 'author_id');

-- Create a BM25 index on the distributed table
CREATE INDEX articles_search_idx ON articles
USING bm25 (id, title, body)
WITH (key_field='id');

-- Search across shards
SELECT id, title FROM articles
WHERE body @@@ 'PostgreSQL OR distributed'
ORDER BY id;
```

### Known Limitations

- ❌ **Citus columnar tables** — BM25 indexes cannot be created on Citus columnar tables due to columnar storage limitations. However, you can use regular distributed tables with BM25 indexes alongside columnar tables for analytics.
- ⚠️ **Architecture support** — Citus does not support ARM architecture or PostgreSQL 18 yet. See [Citus compatibility matrix](https://docs.citusdata.com/en/stable/installation/multi_node_rhel.html) for details.

<Note>
  The order in `shared_preload_libraries` matters. Always list `citus` before
  `pg_search` to ensure proper planner hook chaining.
</Note>
