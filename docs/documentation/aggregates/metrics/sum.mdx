---
title: Sum
description: Compute the sum of a field
canonical: https://docs.paradedb.com/documentation/aggregates/metrics/sum
---

The sum aggregation computes the sum of a field.

<CodeGroup>
```sql SQL
SELECT pdb.agg('{"sum": {"field": "rating"}}') FROM mock_items
WHERE id @@@ pdb.all();
```

```python Django
from paradedb.functions import Agg
from paradedb.search import All, ParadeDB

MockItem.objects.filter(
    id=ParadeDB(All())
).aggregate(agg=Agg('{"sum": {"field": "rating"}}'))
```

```ruby Rails
MockItem.search(:id)
        .match_all
        .facets_agg(total: ParadeDB::Aggregations.sum(:rating))
```

</CodeGroup>

```ini Expected Response
       agg
------------------
 {"value": 158.0}
(1 row)
```

See the [Tantivy documentation](https://docs.rs/tantivy/latest/tantivy/aggregation/metric/struct.SumAggregation.html) for all available options.

## SQL Sum Syntax

SQL's `SUM` syntax is supported in beta. To enable it, first run

```sql
SET paradedb.enable_aggregate_custom_scan TO on;
```

With this feature enabled, the following query is equivalent to the above and is executed in the same way.

<CodeGroup>
```sql SQL
SELECT SUM(rating) FROM mock_items
WHERE id @@@ pdb.all();
```

```python Django
from django.db.models import Sum
from paradedb.search import All, ParadeDB

MockItem.objects.filter(
    id=ParadeDB(All())
).aggregate(total=Sum('rating'))
```

```ruby Rails
MockItem.search(:id).match_all.sum(:rating)
```

</CodeGroup>

By default, `SUM` ignores null values. Use `COALESCE` to include them in the final sum:

<CodeGroup>
```sql SQL
SELECT SUM(COALESCE(rating, 0)) FROM mock_items
WHERE id @@@ pdb.all();
```

```python Django
from django.db.models import Sum, Value
from django.db.models.functions import Coalesce
from paradedb.search import All, ParadeDB

MockItem.objects.filter(
    id=ParadeDB(All())
).aggregate(total=Sum(Coalesce('rating', Value(0))))
```

```ruby Rails
MockItem.search(:id)
        .match_all
        .sum("COALESCE(rating, 0)")
```

</CodeGroup>
